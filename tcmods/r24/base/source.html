<!-- 
/*
 *  This Program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation; either version 3, or (at your option)
 *  any later version.
 *
 *  This Program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with TsunAMP; see the file COPYING.  If not, see
 *  <http://www.gnu.org/licenses/>.
 *
 *	PlayerUI Copyright (C) 2013 Andrea Coiutti & Simone De Gregori
 *	Tsunamp Team
 *	http://www.tsunamp.com
 *
 *	UI-design/JS code by: 	Andrea Coiutti (aka ACX)
 *	PHP/JS code by:			Simone De Gregori (aka Orion)
 * 
 *	file:					source.html
 * 	version:				1.0
 *
 *	TCMODS Edition 
 *
 *	TC (Tim Curtis) 2014-12-23, r1.3
 *	- add header
 * 	- fix mmissing / in last <fieldset> tag 
 *	- add confirmation modal for "remove this mount"
 *	- fix double class defs: class="input-large" class="input-large"
 *	- fix bad for= assignments
 *	- shovel & broom
 *
 *	TC (Tim Curtis) 2015-02-25, r1.6
 *	- update some help text, correct grammar errors
 *	- update mount options placeholder text to match defaults in code
 *	- streamline confirm modal
 *	- remove place holder text and change wording on help text
 *	- fix no top margin on help text under dropdowns
 *	- shovel & broom
 *
 *	TC (Tim Curtis) 2015-04-29, r1.8
 *	- new <div> for hide/show userid and password fields if NFS mount (handler in scripts-configuration.js)
 *
 *	TC (Tim Curtis) 2015-05-30, r1.9
 *  - on-demand help via info show/hide toggle (scripts-configuration.js)
 *  - streamline REMOVE text
 *
 */
-->	
<div class="container">
	<h1>NAS Source</h1>

    <p class="$_hide">
    	<a data-toggle="modal" href="#remove-mount-point">REMOVE</a> this NAS source
    </p>

	<legend>$_title</legend>
	
	<form class="form-horizontal" data-validate="parsley" action="sources.php" method="post">
		<fieldset>
			<div class="control-group" >
			<div class="alert alert-info $_hideerror ">
			<i class='icon-remove red sx'></i> Last mount error</br>
			$_error
			</div>
				<!-- TC (Tim Curtis) 2015-02-25: remove place holder text and change wording on help text -->
				<label class="control-label" for="nas-name">Source name</label>
				<div class="controls">
					<input class="input-large" type="text" id="nas-name" name="mount[name]" value="$_name" data-trigger="change" placeholder="">
					<input type="hidden" name="mount[id]" value="$_id">
					<input type="hidden" name="mount[action]" value="$_action">
					<a class="info-toggle" data-cmd="info-source-name" href="#notarget"><i class="icon-info-sign"></i></a>
					<span id="info-source-name" class="help-block help-block-margin hide">
                    	Enter a name for this music source. It will appear under NAS in the Browse panel.
                    </span>
				</div>
			</div>
			<div class="control-group" >
				<label class="control-label" for="type">Fileshare protocol</label>
				<div class="controls">
					<select id="type" name="mount[type]" class="input-large">
						$_source_select[type]
					</select>
					<a class="info-toggle" data-cmd="info-fileshare-protocol" href="#notarget"><i class="icon-info-sign"></i></a>
					<span id="info-fileshare-protocol" class="help-block help-block-margin hide">
						Select SMB/CIFS for Windows file shares or NFS for unix file shares.
                    </span>
				</div>
			</div>
			<div class="control-group" >
				<label class="control-label" for="nas-ip">IP address</label>
				<div class="controls">
					<input class="input-large" type="text" id="nas-ip" name="mount[address]" value="$_address" data-trigger="change" placeholder="">
					<a class="info-toggle" data-cmd="info-nas-ipaddress" href="#notarget"><i class="icon-info-sign"></i></a>
					<span id="info-nas-ipaddress" class="help-block help-block-margin hide">
						Enter the IP address of the NAS server.
                    </span>
				</div>
			</div>
			<div class="control-group" >
				<label class="control-label" for="nas-dir">Remote directory</label>
				<div class="controls">
					<input class="input-large" type="text" id="nas-dir" name="mount[remotedir]" value="$_remotedir" data-trigger="change" placeholder="" >
					<a class="info-toggle" data-cmd="info-nas-remotedir" href="#notarget"><i class="icon-info-sign"></i></a>
					<span id="info-nas-remotedir" class="help-block help-block-margin hide">
						Enter the ShareName/Path to the directory containing music on the NAS server.
                    </span>
				</div>
			</div>
			<div id="userid-password">
				<div class="control-group" >
					<label class="control-label" for="nas-usr">Username</label>
					<div class="controls">
						<input class="input-large" type="text" id="nas-usr" name="mount[username]" value="$_username" data-trigger="change" placeholder="" >
						<a class="info-toggle" data-cmd="info-nas-userid" href="#notarget"><i class="icon-info-sign"></i></a>
						<span id="info-nas-userid" class="help-block help-block-margin hide">
							Enter the user name for access to the NAS server if required.
	                    </span>
					</div>
				</div>
				<div class="control-group" >
					<label class="control-label" for="nas-pasw">Password</label>
					<div class="controls">
						<input class="input-large" type="password" id="nas-pasw" name="mount[password]" value="$_password" placeholder="" autocomplete="off">
						<a class="info-toggle" data-cmd="info-nas-password" href="#notarget"><i class="icon-info-sign"></i></a>
						<span id="info-nas-password" class="help-block help-block-margin hide">
							Enter the password if required.
	                    </span>
					</div>
				</div>
			</div>
			<p><a href="#notarget" class="show-advanced-config"><i class="icon-plus-sign"></i> <span>show advanced options</span></a></p>
			<div class="advanced-config hide">
				<div class="control-group" >
					<label class="control-label" for="nas-charset">Charset</label>
					<div class="controls">
						<select id="nas-charset" name="mount[charset]" class="input-large">
							<option value="utf8" $_charset>UTF8 (default)</option>
							<option value="iso8859-1" $_charset>ISO 8859-1</option>
						</select>
						<a class="info-toggle" data-cmd="info-mount-charset" href="#notarget"><i class="icon-info-sign"></i></a>
						<span id="info-mount-charset" class="help-block help-block-margin hide">
							Change this setting if there are problems with character encoding.
	                    </span>
					</div>
				</div>
				<!-- TC (Tim Curtis) 2015-02-25: update help text, correct grammar errors -->
				<div class="control-group" >
					<label class="control-label" for="nas-rsize">Rsize</label>
					<div class="controls">
						<input class="input-large" type="text" id="nas-rsize" name="mount[rsize]" value="$_rsize" data-trigger="change" placeholder="8048" >
						<a class="info-toggle" data-cmd="info-mount-rsize" href="#notarget"><i class="icon-info-sign"></i></a>
						<span id="info-mount-rsize" class="help-block help-block-margin hide">
							Change this settings if there are audio glitches during song file playback.
	                    </span>
					</div>
				</div>
				<!-- TC (Tim Curtis) 2015-02-25: update help text, correct grammar errors -->
				<div class="control-group" >
					<label class="control-label" for="nas-wsize">Wsize</label>
					<div class="controls">
						<input class="input-large" type="text" id="nas-wsize" name="mount[wsize]" value="$_wsize" data-trigger="change" placeholder="8096" >
						<a class="info-toggle" data-cmd="info-mount-wsize" href="#notarget"><i class="icon-info-sign"></i></a>
						<span id="info-mount-wsize" class="help-block help-block-margin hide">
							Change this settings if there are audio glitches during song file playback.
	                    </span>
					</div>
				</div>
				<!-- TC (Tim Curtis) 2015-02-25: update placeholder text to match defaults in code -->
				<div class="control-group" >
					<label class="control-label" for="options">Mount flags</label>
					<div class="controls">
						<input class="input-large" type="text" id="options" name="mount[options]" value="$_options" data-trigger="change" placeholder="cache=strict,ro,dir_mode=0777,file_mode=0777">
						<input type="hidden" name="mount[error]" value="$_error">
						<a class="info-toggle" data-cmd="info-mount-flags" href="#notarget"><i class="icon-info-sign"></i></a>
						<span id="info-mount-flags" class="help-block help-block-margin hide">
							Advanced mount flags.
	                    </span>
					</div>
				</div>
			</div>
		</fieldset>
		<div class="form-actions">
			<a href="sources.php" class="btn btn-large" data-ajax="false">Cancel</a>
			<button type="submit" class="btn btn-primary btn-large" name="save" value="save">Save</button>
		</div>
		
		<!-- TC (Tim Curtis) 2014-12-23: confirmation modal -->
		<!-- TC (Tim Curtis) 2015-02-25: streamline, move confirm btn to footer -->
		<div id="remove-mount-point" class="modal modal-sm hide fade" tabindex="-1" role="dialog" aria-labelledby="remove-mount-point-label" aria-hidden="true">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h3 id="remove-mount-point-label">Remove mount point</h3>
			</div>
			<div class="modal-body">
				<h4>Remove mount point and update MPD database</h4>
			</div>
			<div class="modal-footer">
				<button class="btn btn-primary" type="submit" name="delete" value="1">Confirm</button>
				<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			</div>
		</div>
	</form>
</div>
